version: 2
updates:
  # Single root-level configuration that scans entire monorepo
  # This ensures all dependencies are updated together in a single PR per group
  # Each group updates dependencies across ALL package.json files, keeping them aligned
  # With just 2 groups (production + development), you get at most 2 PRs per week
  - package-ecosystem: 'npm'
    directory: '/'
    schedule:
      interval: 'weekly'
    labels:
      - 'chore: update dependencies'
    groups:
      # All production dependencies grouped together
      # This creates ONE PR that updates all production deps across ALL package.json files
      'all-production':
        dependency-type: 'production'
        patterns:
          - '*'
      # All development dependencies grouped together
      # This creates ONE PR that updates all dev deps across ALL package.json files
      'all-development':
        dependency-type: 'development'
        patterns:
          - '*'
    ignore:
      # Ignore major version updates (breaking changes)
      - dependency-name: '*'
        update-types: ['version-update:semver-major']
      # Ignore workspace dependencies (handled internally via workspace:*)
      - dependency-name: '@reown/*'
        update-types:
          [
            'version-update:semver-major',
            'version-update:semver-minor',
            'version-update:semver-patch'
          ]
